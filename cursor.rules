请帮我在我的图层编辑网站项目中，增加三种用户身份系统，并实现管理员模板上传功能。以下是详细要求：

---

### 🔧 项目背景

现在需要加入用户身份系统，支持：

- 管理员（admin）
- 注册用户（user）
- 游客（guest）

---

### 🎯 目标功能

1. **用户身份与权限系统**
   - 登录后区分三种角色：admin、user、guest。
   - 游客无需注册即可访问网站，但权限受限。
2. **管理员功能**
   - 仅管理员能上传「模板文件」（例如 psd、json、png 等）。
   - 文件应存储在服务器 `/templates` 目录中。
   - 上传完成后，自动写入数据库模板表
   - 提供一个管理员专属面板 `/admin`，可查看所有模板。
3. **普通用户功能**
   - 可以浏览模板，但不能上传或删除。
   - 可以使用模板生成自己的图层项目。
4. **游客功能**
   - 无需注册即可进入主页面。
   - 只能查看模板缩略图，无法下载或生成项目。

---
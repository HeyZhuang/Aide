# PSD Canvas Jaaz é¡¹ç›®éƒ¨ç½²å®Œæ•´æŒ‡å—

## ğŸ“‹ é¡¹ç›®æ¶æ„æ¦‚è§ˆ

### æŠ€æœ¯æ ˆ
- **åç«¯**: FastAPI (Python) - ç«¯å£ 57988
- **å‰ç«¯**: React + Vite (Node.js) - ç«¯å£ 3004
- **åå‘ä»£ç†**: Nginx - ç«¯å£ 80
- **è¿›ç¨‹ç®¡ç†**: Systemd
- **æœåŠ¡å™¨IP**: 54.189.143.120

### ç›®å½•ç»“æ„
```
/home/ubuntu/cckz/psd-canvas-jaaz/
â”œâ”€â”€ server/              # åç«¯æœåŠ¡ (FastAPI)
â”‚   â”œâ”€â”€ main.py         # åç«¯å…¥å£æ–‡ä»¶
â”‚   â”œâ”€â”€ requirements.txt # Pythonä¾èµ–
â”‚   â””â”€â”€ venv/           # Pythonè™šæ‹Ÿç¯å¢ƒ
â”œâ”€â”€ react/              # å‰ç«¯æœåŠ¡ (React)
â”‚   â”œâ”€â”€ package.json    # Node.jsä¾èµ–
â”‚   â”œâ”€â”€ server.js       # å‰ç«¯æœåŠ¡å™¨(Express)
â”‚   â””â”€â”€ dist/           # æ„å»ºåçš„é™æ€æ–‡ä»¶
â”œâ”€â”€ deploy.sh           # è‡ªåŠ¨åŒ–éƒ¨ç½²è„šæœ¬
â”œâ”€â”€ psd-backend.service # åç«¯systemdæœåŠ¡é…ç½®
â”œâ”€â”€ psd-frontend.service # å‰ç«¯systemdæœåŠ¡é…ç½®
â””â”€â”€ nginx-psd-canvas.conf # Nginxé…ç½®æ–‡ä»¶
```

---

## ğŸš€ å¿«é€Ÿéƒ¨ç½²æµç¨‹ï¼ˆä»GitHubæ‹‰å–ä»£ç åˆ°ä¸Šçº¿ï¼‰

### ç¬¬ä¸€æ­¥ï¼šæ›´æ–°ä»£ç 
```bash
cd /home/ubuntu/cckz/psd-canvas-jaaz

# æ‹‰å–æœ€æ–°ä»£ç 
git pull origin main
# æˆ–è€…æŒ‡å®šåˆ†æ”¯
git pull origin <branch-name>

# æ£€æŸ¥æ˜¯å¦æœ‰æ›´æ–°
git log -1 --oneline
```

### ç¬¬äºŒæ­¥ï¼šè¿è¡Œè‡ªåŠ¨åŒ–éƒ¨ç½²è„šæœ¬
```bash
cd /home/ubuntu/cckz/psd-canvas-jaaz

# ç»™è„šæœ¬æ‰§è¡Œæƒé™ï¼ˆé¦–æ¬¡éœ€è¦ï¼‰
chmod +x deploy.sh

# æ‰§è¡Œéƒ¨ç½²è„šæœ¬
./deploy.sh
```

**éƒ¨ç½²è„šæœ¬ä¼šè‡ªåŠ¨å®Œæˆï¼š**
1. âœ… åˆ›å»º/æ¿€æ´»Pythonè™šæ‹Ÿç¯å¢ƒ
2. âœ… å®‰è£…/æ›´æ–°Pythonä¾èµ– (requirements.txt)
3. âœ… å®‰è£…/æ›´æ–°Node.jsä¾èµ– (npm install)
4. âœ… åˆ›å»ºç”Ÿäº§ç¯å¢ƒé…ç½®æ–‡ä»¶ (.env.production)
5. âœ… æ„å»ºå‰ç«¯é¡¹ç›® (npm run build)

### ç¬¬ä¸‰æ­¥ï¼šé‡å¯æœåŠ¡
```bash
# é‡å¯åç«¯æœåŠ¡
sudo systemctl restart psd-backend

# é‡å¯å‰ç«¯æœåŠ¡
sudo systemctl restart psd-frontend

# éªŒè¯æœåŠ¡çŠ¶æ€
sudo systemctl status psd-backend
sudo systemctl status psd-frontend
```

### ç¬¬å››æ­¥ï¼šéªŒè¯éƒ¨ç½²
```bash
# æ£€æŸ¥ç«¯å£ç›‘å¬
sudo netstat -tulpn | grep -E "(3004|57988)"

# æ£€æŸ¥æœåŠ¡æ—¥å¿—
sudo journalctl -u psd-backend -n 50 --no-pager
sudo journalctl -u psd-frontend -n 50 --no-pager

# æµ‹è¯•è®¿é—®
curl http://54.189.143.120:57988/api/health
curl http://54.189.143.120:3004
```

---

## ğŸ“ è¯¦ç»†éƒ¨ç½²æ­¥éª¤è¯´æ˜

### 1. ç¯å¢ƒå‡†å¤‡æ£€æŸ¥

#### æ£€æŸ¥Pythonç¯å¢ƒ
```bash
python3 --version  # åº”æ˜¾ç¤º Python 3.x
which python3
```

#### æ£€æŸ¥Node.jsç¯å¢ƒ
```bash
node --version     # åº”æ˜¾ç¤º v16+ æˆ– v18+
npm --version
which node
```

#### æ£€æŸ¥ç³»ç»ŸæœåŠ¡
```bash
# æ£€æŸ¥systemdæœåŠ¡æ˜¯å¦å­˜åœ¨
ls -la /etc/systemd/system/ | grep psd

# æ£€æŸ¥æœåŠ¡çŠ¶æ€
sudo systemctl status psd-backend
sudo systemctl status psd-frontend
```

#### æ£€æŸ¥Nginxé…ç½®
```bash
# æ£€æŸ¥Nginxé…ç½®æ–‡ä»¶
ls -la /etc/nginx/sites-enabled/ | grep psd-canvas

# æ£€æŸ¥NginxçŠ¶æ€
sudo nginx -t
sudo systemctl status nginx
```

### 2. åç«¯éƒ¨ç½²è¯¦è§£

#### 2.1 è™šæ‹Ÿç¯å¢ƒç®¡ç†
```bash
cd /home/ubuntu/cckz/psd-canvas-jaaz/server

# åˆ›å»ºè™šæ‹Ÿç¯å¢ƒï¼ˆé¦–æ¬¡éƒ¨ç½²ï¼‰
python3 -m venv venv

# æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ
source venv/bin/activate

# å‡çº§pip
pip install --upgrade pip

# å®‰è£…ä¾èµ–
pip install -r requirements.txt

# é€€å‡ºè™šæ‹Ÿç¯å¢ƒ
deactivate
```

#### 2.2 åç«¯æœåŠ¡é…ç½®
- **æœåŠ¡æ–‡ä»¶**: `/etc/systemd/system/psd-backend.service`
- **å·¥ä½œç›®å½•**: `/home/ubuntu/cckz/psd-canvas-jaaz/server`
- **æ‰§è¡Œå‘½ä»¤**: `venv/bin/python main.py --port 57988`
- **ç¯å¢ƒå˜é‡**: 
  - `UI_DIST_DIR=/home/ubuntu/cckz/psd-canvas-jaaz/react/dist`
  - `PATH` åŒ…å«è™šæ‹Ÿç¯å¢ƒbinç›®å½•

#### 2.3 åç«¯æœåŠ¡ç®¡ç†
```bash
# å¯åŠ¨æœåŠ¡
sudo systemctl start psd-backend

# åœæ­¢æœåŠ¡
sudo systemctl stop psd-backend

# é‡å¯æœåŠ¡
sudo systemctl restart psd-backend

# æŸ¥çœ‹çŠ¶æ€
sudo systemctl status psd-backend

# æŸ¥çœ‹æ—¥å¿—
sudo journalctl -u psd-backend -f
sudo journalctl -u psd-backend -n 100 --no-pager

# è®¾ç½®å¼€æœºè‡ªå¯
sudo systemctl enable psd-backend
```

### 3. å‰ç«¯éƒ¨ç½²è¯¦è§£

#### 3.1 Node.jsä¾èµ–ç®¡ç†
```bash
cd /home/ubuntu/cckz/psd-canvas-jaaz/react

# å®‰è£…ä¾èµ–
npm install

# æ›´æ–°ä¾èµ–ï¼ˆå¦‚æœæœ‰package-lock.jsonæ›´æ–°ï¼‰
npm ci
```

#### 3.2 ç¯å¢ƒå˜é‡é…ç½®
```bash
cd /home/ubuntu/cckz/psd-canvas-jaaz/react

# åˆ›å»ºç”Ÿäº§ç¯å¢ƒé…ç½®æ–‡ä»¶
cat > .env.production << EOF
VITE_BACKEND_URL=http://54.189.143.120:57988
VITE_JAAZ_BASE_API_URL=http://54.189.143.120:57988
EOF
```

#### 3.3 å‰ç«¯æ„å»º
```bash
cd /home/ubuntu/cckz/psd-canvas-jaaz/react

# æ ‡å‡†æ„å»ºï¼ˆåŒ…å«TypeScriptæ£€æŸ¥ï¼‰
npm run build

# å¦‚æœTypeScripté”™è¯¯ï¼Œè·³è¿‡ç±»å‹æ£€æŸ¥æ„å»ºï¼ˆä¸´æ—¶æ–¹æ¡ˆï¼‰
npx vite build
```

æ„å»ºäº§ç‰©ä½äºï¼š`/home/ubuntu/cckz/psd-canvas-jaaz/react/dist/`

#### 3.4 å‰ç«¯æœåŠ¡é…ç½®
- **æœåŠ¡æ–‡ä»¶**: `/etc/systemd/system/psd-frontend.service`
- **å·¥ä½œç›®å½•**: `/home/ubuntu/cckz/psd-canvas-jaaz/react`
- **æ‰§è¡Œå‘½ä»¤**: `/usr/bin/node server.js`
- **ç¯å¢ƒå˜é‡**:
  - `NODE_ENV=production`
  - `PORT=3004`
  - `BACKEND_URL=http://127.0.0.1:57988`

#### 3.5 å‰ç«¯æœåŠ¡ç®¡ç†
```bash
# å¯åŠ¨æœåŠ¡
sudo systemctl start psd-frontend

# åœæ­¢æœåŠ¡
sudo systemctl stop psd-frontend

# é‡å¯æœåŠ¡
sudo systemctl restart psd-frontend

# æŸ¥çœ‹çŠ¶æ€
sudo systemctl status psd-frontend

# æŸ¥çœ‹æ—¥å¿—
sudo journalctl -u psd-frontend -f
sudo journalctl -u psd-frontend -n 100 --no-pager

# è®¾ç½®å¼€æœºè‡ªå¯
sudo systemctl enable psd-frontend
```

### 4. Nginxé…ç½®è¯¦è§£

#### 4.1 Nginxé…ç½®æ–‡ä»¶ä½ç½®
- **é…ç½®æ–‡ä»¶**: `/etc/nginx/sites-available/psd-canvas`
- **å¯ç”¨é“¾æ¥**: `/etc/nginx/sites-enabled/psd-canvas`
- **æºæ–‡ä»¶**: `/home/ubuntu/cckz/psd-canvas-jaaz/nginx-psd-canvas.conf`

#### 4.2 Nginxè·¯ç”±è§„åˆ™
```
è¯·æ±‚è·¯å¾„                 -> ç›®æ ‡æœåŠ¡
/api/*                  -> http://127.0.0.1:57988 (åç«¯)
/psd/*                  -> http://127.0.0.1:57988/api/psd/* (åç«¯ï¼Œå…¼å®¹æ—§è·¯ç”±)
/socket.io/*            -> http://127.0.0.1:57988 (WebSocket)
/                       -> http://127.0.0.1:3004 (å‰ç«¯)
```

#### 4.3 Nginxç®¡ç†
```bash
# æµ‹è¯•é…ç½®
sudo nginx -t

# é‡æ–°åŠ è½½é…ç½®ï¼ˆä¸ä¸­æ–­æœåŠ¡ï¼‰
sudo systemctl reload nginx

# é‡å¯Nginx
sudo systemctl restart nginx

# æŸ¥çœ‹çŠ¶æ€
sudo systemctl status nginx

# æŸ¥çœ‹é”™è¯¯æ—¥å¿—
sudo tail -f /var/log/nginx/error.log
```

#### 4.4 æ›´æ–°Nginxé…ç½®
```bash
# å¤åˆ¶æ–°é…ç½®
sudo cp /home/ubuntu/cckz/psd-canvas-jaaz/nginx-psd-canvas.conf \
        /etc/nginx/sites-available/psd-canvas

# æµ‹è¯•é…ç½®
sudo nginx -t

# é‡æ–°åŠ è½½
sudo systemctl reload nginx
```

---

## ğŸ”„ å®Œæ•´éƒ¨ç½²æµç¨‹ï¼ˆé¦–æ¬¡éƒ¨ç½²ï¼‰

### ç¬¬ä¸€æ­¥ï¼šå…‹éš†ä»£ç ï¼ˆå¦‚æœæ˜¯æ–°æœåŠ¡å™¨ï¼‰
```bash
# åˆ›å»ºé¡¹ç›®ç›®å½•
mkdir -p /home/ubuntu/cckz
cd /home/ubuntu/cckz

# å…‹éš†ä»“åº“ï¼ˆæ›¿æ¢ä¸ºå®é™…ä»“åº“åœ°å€ï¼‰
git clone <your-github-repo-url> psd-canvas-jaaz
cd psd-canvas-jaaz
```

### ç¬¬äºŒæ­¥ï¼šå®‰è£…systemdæœåŠ¡
```bash
# å¤åˆ¶æœåŠ¡æ–‡ä»¶åˆ°systemdç›®å½•
sudo cp /home/ubuntu/cckz/psd-canvas-jaaz/psd-backend.service \
        /etc/systemd/system/

sudo cp /home/ubuntu/cckz/psd-canvas-jaaz/psd-frontend.service \
        /etc/systemd/system/

# é‡æ–°åŠ è½½systemd
sudo systemctl daemon-reload

# å¯ç”¨æœåŠ¡ï¼ˆå¼€æœºè‡ªå¯ï¼‰
sudo systemctl enable psd-backend
sudo systemctl enable psd-frontend
```

### ç¬¬ä¸‰æ­¥ï¼šé…ç½®Nginx
```bash
# å¤åˆ¶Nginxé…ç½®
sudo cp /home/ubuntu/cckz/psd-canvas-jaaz/nginx-psd-canvas.conf \
        /etc/nginx/sites-available/psd-canvas

# åˆ›å»ºè½¯é“¾æ¥å¯ç”¨é…ç½®
sudo ln -sf /etc/nginx/sites-available/psd-canvas \
            /etc/nginx/sites-enabled/psd-canvas

# æµ‹è¯•é…ç½®
sudo nginx -t

# é‡å¯Nginx
sudo systemctl restart nginx
```

### ç¬¬å››æ­¥ï¼šè¿è¡Œéƒ¨ç½²è„šæœ¬
```bash
cd /home/ubuntu/cckz/psd-canvas-jaaz
chmod +x deploy.sh
./deploy.sh
```

### ç¬¬äº”æ­¥ï¼šå¯åŠ¨æœåŠ¡
```bash
sudo systemctl start psd-backend
sudo systemctl start psd-frontend
```

---

## ğŸ”§ å¸¸è§é—®é¢˜æ’æŸ¥

### 1. ç«¯å£è¢«å ç”¨
```bash
# æ£€æŸ¥ç«¯å£å ç”¨
sudo lsof -i :3004
sudo lsof -i :57988
sudo lsof -i :80

# æŸ¥çœ‹å ç”¨è¿›ç¨‹
sudo netstat -tulpn | grep -E "(3004|57988|80)"

# æ€æ­»å ç”¨è¿›ç¨‹ï¼ˆè°¨æ…ä½¿ç”¨ï¼‰
sudo kill -9 <PID>
```

### 2. æœåŠ¡å¯åŠ¨å¤±è´¥
```bash
# æŸ¥çœ‹è¯¦ç»†é”™è¯¯æ—¥å¿—
sudo journalctl -u psd-backend -n 100 --no-pager
sudo journalctl -u psd-frontend -n 100 --no-pager

# æ£€æŸ¥æœåŠ¡æ–‡ä»¶é…ç½®
sudo systemctl cat psd-backend
sudo systemctl cat psd-frontend

# æ£€æŸ¥æ–‡ä»¶æƒé™
ls -la /home/ubuntu/cckz/psd-canvas-jaaz/server/main.py
ls -la /home/ubuntu/cckz/psd-canvas-jaaz/react/server.js
```

### 3. å‰ç«¯æ„å»ºå¤±è´¥
```bash
cd /home/ubuntu/cckz/psd-canvas-jaaz/react

# æ¸…ç†node_modulesé‡æ–°å®‰è£…
rm -rf node_modules package-lock.json
npm install

# æ¸…ç†æ„å»ºç¼“å­˜
rm -rf dist .vite
npm run build
```

### 4. åç«¯ä¾èµ–å®‰è£…å¤±è´¥
```bash
cd /home/ubuntu/cckz/psd-canvas-jaaz/server

# é‡æ–°åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
rm -rf venv
python3 -m venv venv
source venv/bin/activate
pip install --upgrade pip setuptools wheel
pip install -r requirements.txt
```

### 5. Nginxä»£ç†å¤±è´¥
```bash
# æ£€æŸ¥Nginxé…ç½®è¯­æ³•
sudo nginx -t

# æŸ¥çœ‹Nginxé”™è¯¯æ—¥å¿—
sudo tail -f /var/log/nginx/error.log

# æ£€æŸ¥åç«¯æœåŠ¡æ˜¯å¦è¿è¡Œ
curl http://127.0.0.1:57988/api/health

# æ£€æŸ¥å‰ç«¯æœåŠ¡æ˜¯å¦è¿è¡Œ
curl http://127.0.0.1:3004
```

### 6. ç¯å¢ƒå˜é‡é—®é¢˜
```bash
# æ£€æŸ¥åç«¯ç¯å¢ƒå˜é‡
sudo systemctl show psd-backend | grep Environment

# æ£€æŸ¥å‰ç«¯ç¯å¢ƒå˜é‡
cat /home/ubuntu/cckz/psd-canvas-jaaz/react/.env.production

# é‡æ–°åˆ›å»ºç¯å¢ƒé…ç½®æ–‡ä»¶
cd /home/ubuntu/cckz/psd-canvas-jaaz/react
cat > .env.production << EOF
VITE_BACKEND_URL=http://54.189.143.120:57988
VITE_JAAZ_BASE_API_URL=http://54.189.143.120:57988
EOF
```

### 7. æƒé™é—®é¢˜
```bash
# æ£€æŸ¥æ–‡ä»¶æ‰€æœ‰æƒ
ls -la /home/ubuntu/cckz/psd-canvas-jaaz/

# ä¿®å¤æ‰€æœ‰æƒï¼ˆå¦‚æœéœ€è¦ï¼‰
sudo chown -R ubuntu:ubuntu /home/ubuntu/cckz/psd-canvas-jaaz/

# æ£€æŸ¥æœåŠ¡ç”¨æˆ·
sudo systemctl show psd-backend | grep User
```

---

## ğŸ” å®‰å…¨é…ç½®

### é˜²ç«å¢™é…ç½®ï¼ˆUFWï¼‰
```bash
# å¼€æ”¾å¿…è¦ç«¯å£
sudo ufw allow 22/tcp    # SSH
sudo ufw allow 80/tcp    # HTTP
sudo ufw allow 443/tcp   # HTTPS (å¦‚æœä½¿ç”¨SSL)

# å¯é€‰ï¼šç›´æ¥å¼€æ”¾åº”ç”¨ç«¯å£ï¼ˆå¦‚æœä¸ä½¿ç”¨Nginxï¼‰
sudo ufw allow 3004/tcp
sudo ufw allow 57988/tcp

# å¯ç”¨é˜²ç«å¢™
sudo ufw enable

# æŸ¥çœ‹çŠ¶æ€
sudo ufw status
```

### SSL/HTTPSé…ç½®ï¼ˆæ¨èï¼‰
å¦‚æœéœ€è¦å¯ç”¨HTTPSï¼Œéœ€è¦ï¼š
1. è·å–SSLè¯ä¹¦ï¼ˆLet's Encryptï¼‰
2. ä¿®æ”¹Nginxé…ç½®æ·»åŠ SSLç›‘å¬
3. é…ç½®è¯ä¹¦è·¯å¾„
4. é‡å¯Nginx

---

## ğŸ“Š ç›‘æ§å’Œç»´æŠ¤

### æŸ¥çœ‹å®æ—¶æ—¥å¿—
```bash
# åç«¯æ—¥å¿—
sudo journalctl -u psd-backend -f

# å‰ç«¯æ—¥å¿—
sudo journalctl -u psd-frontend -f

# Nginxè®¿é—®æ—¥å¿—
sudo tail -f /var/log/nginx/access.log

# Nginxé”™è¯¯æ—¥å¿—
sudo tail -f /var/log/nginx/error.log
```

### æ£€æŸ¥æœåŠ¡å¥åº·çŠ¶æ€
```bash
# ä¸€é”®æ£€æŸ¥æ‰€æœ‰æœåŠ¡çŠ¶æ€
sudo systemctl status psd-backend psd-frontend nginx

# æ£€æŸ¥ç«¯å£ç›‘å¬
sudo ss -tlnp | grep -E "(3004|57988|80)"

# æµ‹è¯•APIç«¯ç‚¹
curl -s http://54.189.143.120:57988/api/health | jq .
```

### æ€§èƒ½ç›‘æ§
```bash
# æŸ¥çœ‹ç³»ç»Ÿèµ„æºä½¿ç”¨
htop

# æŸ¥çœ‹æœåŠ¡èµ„æºä½¿ç”¨
sudo systemctl status psd-backend | grep -A 5 "Main PID"
ps aux | grep -E "(python|node)" | grep -v grep

# æŸ¥çœ‹ç£ç›˜ç©ºé—´
df -h
du -sh /home/ubuntu/cckz/psd-canvas-jaaz/*
```

---

## ğŸ¯ å¿«é€Ÿéƒ¨ç½²è„šæœ¬ï¼ˆä¸€é”®éƒ¨ç½²ï¼‰

åˆ›å»ºä¸€ä¸ªä¸€é”®éƒ¨ç½²è„šæœ¬ï¼š

```bash
#!/bin/bash
# quick-deploy.sh - å¿«é€Ÿéƒ¨ç½²è„šæœ¬

set -e

PROJECT_DIR="/home/ubuntu/cckz/psd-canvas-jaaz"
cd "$PROJECT_DIR"

echo "ğŸ”„ æ‹‰å–æœ€æ–°ä»£ç ..."
git pull

echo "ğŸš€ è¿è¡Œéƒ¨ç½²è„šæœ¬..."
./deploy.sh

echo "ğŸ”„ é‡å¯æœåŠ¡..."
sudo systemctl restart psd-backend
sudo systemctl restart psd-frontend

echo "âœ… ç­‰å¾…æœåŠ¡å¯åŠ¨..."
sleep 5

echo "ğŸ“Š æ£€æŸ¥æœåŠ¡çŠ¶æ€..."
sudo systemctl status psd-backend --no-pager -l
sudo systemctl status psd-frontend --no-pager -l

echo "âœ… éƒ¨ç½²å®Œæˆï¼"
echo "è®¿é—®åœ°å€: http://54.189.143.120/"
```

ä½¿ç”¨æ–¹æ³•ï¼š
```bash
chmod +x quick-deploy.sh
./quick-deploy.sh
```

---

## ğŸ“ éƒ¨ç½²æ£€æŸ¥æ¸…å•

### ä»£ç æ›´æ–°å‰
- [ ] å¤‡ä»½å½“å‰ä»£ç ï¼ˆå¯é€‰ï¼‰
- [ ] æ£€æŸ¥GitçŠ¶æ€ï¼Œç¡®è®¤å½“å‰åˆ†æ”¯
- [ ] æŸ¥çœ‹æœ€è¿‘çš„æäº¤è®°å½•

### éƒ¨ç½²è¿‡ç¨‹ä¸­
- [ ] æ‹‰å–æœ€æ–°ä»£ç æˆåŠŸ
- [ ] åç«¯ä¾èµ–å®‰è£…æˆåŠŸ
- [ ] å‰ç«¯ä¾èµ–å®‰è£…æˆåŠŸ
- [ ] å‰ç«¯æ„å»ºæˆåŠŸï¼ˆæ— é”™è¯¯ï¼‰
- [ ] ç¯å¢ƒå˜é‡é…ç½®æ­£ç¡®

### éƒ¨ç½²åéªŒè¯
- [ ] åç«¯æœåŠ¡è¿è¡Œæ­£å¸¸ï¼ˆ`systemctl status psd-backend`ï¼‰
- [ ] å‰ç«¯æœåŠ¡è¿è¡Œæ­£å¸¸ï¼ˆ`systemctl status psd-frontend`ï¼‰
- [ ] Nginxé…ç½®æ­£ç¡®ï¼ˆ`nginx -t`ï¼‰
- [ ] ç«¯å£ç›‘å¬æ­£å¸¸ï¼ˆ`netstat -tulpn | grep -E "(3004|57988)"`ï¼‰
- [ ] åç«¯APIå¯è®¿é—®ï¼ˆ`curl http://127.0.0.1:57988/api/health`ï¼‰
- [ ] å‰ç«¯é¡µé¢å¯è®¿é—®ï¼ˆæµè§ˆå™¨è®¿é—® http://54.189.143.120ï¼‰
- [ ] WebSocketè¿æ¥æ­£å¸¸ï¼ˆæ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°ï¼‰
- [ ] æŸ¥çœ‹æ—¥å¿—æ— é”™è¯¯ä¿¡æ¯

---

## ğŸ†˜ ç´§æ€¥å›æ»š

å¦‚æœæ–°ç‰ˆæœ¬éƒ¨ç½²å‡ºç°é—®é¢˜ï¼Œå¯ä»¥å¿«é€Ÿå›æ»šï¼š

```bash
# å›æ»šåˆ°ä¸Šä¸€ä¸ªæäº¤
cd /home/ubuntu/cckz/psd-canvas-jaaz
git log --oneline -10  # æŸ¥çœ‹æäº¤å†å²
git reset --hard <previous-commit-hash>

# é‡æ–°éƒ¨ç½²
./deploy.sh
sudo systemctl restart psd-backend
sudo systemctl restart psd-frontend
```

---

## ğŸ“ è”ç³»æ–¹å¼å’Œæ”¯æŒ

å¦‚æœé‡åˆ°æ— æ³•è§£å†³çš„é—®é¢˜ï¼š
1. æŸ¥çœ‹è¯¦ç»†æ—¥å¿—ï¼š`sudo journalctl -u psd-backend -n 200`
2. æ£€æŸ¥é…ç½®æ–‡ä»¶æ˜¯å¦æ­£ç¡®
3. éªŒè¯ç½‘ç»œè¿æ¥å’Œé˜²ç«å¢™è®¾ç½®
4. æ£€æŸ¥ç³»ç»Ÿèµ„æºï¼ˆå†…å­˜ã€ç£ç›˜ç©ºé—´ï¼‰

---

**æœ€åæ›´æ–°**: 2024å¹´
**ç»´æŠ¤è€…**: è¯·æ ¹æ®å®é™…æƒ…å†µæ›´æ–°

